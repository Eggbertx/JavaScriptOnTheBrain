---
import path from "path";

const basePath = import.meta.env.BASE_PATH ?? "/JavaScriptOnTheBrain/";
let activePage:string = Astro.props.activePage ?? basePath;
const activeTab:ActiveTab = Astro.props.activeTab ?? "none";

if(path.relative(basePath, activePage) === "..") {
	activePage = path.join(basePath, "/");
}
console.log(activePage)

const links = [
	{ href: basePath, text: "Intro" },
	{ href: path.join(basePath, "/games"), text: "Games" },
	{ href: path.join(basePath, "/goals"), text: "Goals" },
	{ href: path.join(basePath, "/feedback"), text: "Feedback" },
	{ href: path.join(basePath, "/links"), text: "Links" },
];
---
<nav class="tabbar">
	<ul>
		{links.map(link => (
			<li class={(link.href === activePage || (link.text === activeTab)) ? "tab tab-active" : "tab"}><a href={link.href} >{link.text}</a></li>
		))}
	</ul>
</nav>